# 说明文档

### 项目介绍

使用C++，不调用任何库或者API，实现光线追踪算法，并以此完成对经典图形学场景（如Cornell Box）和自己构建的复杂场景的渲染。在实现过程中，需要考虑光线的反射、折射、散射现象。

项目采用面向对象的方法进行构建，类课分为7种。第一种，main.cpp负责整体调度、构建场景、扫描像素。第二种，MyCamera类分装了照相机的功能。第三种为所有类的基础，包括：vec3类实现了向量和点，重载了向量相关的运算；ray类实现了光线；color实现了颜色，以及像素点的输出。第四种为抽象类，包括：Hittable抽象了一切能被光线碰撞的物体；Hittable_list抽象了Hittable类的集合，用于储存场景。第五种为实体类，实现了一部分用于构建cornell box的简单几何形体，包括Sphere即球体；Box即长方体；aarect即三维平面。第六类为才之类，实现了郎波体、金属、电介质、光源等材质。第七类为myRayTracing.h，用于存储常数和提供最基本的运算服务。

由于ppm（P3）是最简单的图片格式，因此本项目选取ppm格式的图片作为输出。除此之外，ppm格式的图片是一系列十进制(r, g, b)三元组组成的，观察起来直观、方便，便于debug，这也是选择ppm格式作为输出的原因之一。

### 查看方式

为了查看ppm格式的图片，请下载“FastStone Image Viewer”。软件下载地址如下：

https://www.faststone.org/FSIVDownload.htm

下载FastStone Image Viewer 7.5的exe，安装后，用FastStone Image Viewer打开Course-Design-of-Computer-Graphics\RayTracing\cmake-build-debug目录即可查看ppm文件。由于ppm格式没有经过任何压缩，图片体积较大，因此使用软件现实可能略有延迟。使用截图如下：

![FIV](.\doc_pics\FIV.png)

### 运行方式

如果使用window环境，则打开cmd，依此输入前两条命令，进入到“Course-Design-of-Computer-Graphics\RayTracing\cmake-build-debug”这一目录。随后使用cmd运行RayTracing.exe，并重定向进image.ppm文件中。

cd RayTracing

cd cmake-build-debug

RayTracing.exe > image.ppm

